webpackJsonp([33],{1036:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"township"},[e("div",{staticClass:"main"},[e("div",{staticClass:"first"},[e("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeNamexz,callback:function(a){t.activeNamexz=a},expression:"activeNamexz"}},[e("el-tab-pane",{attrs:{label:"固安",name:"first3"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"中部县区",name:"second3"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"全市",name:"third3"}})],1)],1),t._v(" "),e("div",{staticClass:"table_container"},[e("el-table",{staticStyle:{width:"400px"},attrs:{data:t.tableData,border:"",stripe:"","highlight-current-row":""},on:{"current-change":t.RowCurrentChange}},[e("el-table-column",{attrs:{property:"ranking",label:"排名",width:"80"}}),t._v(" "),t._e(),t._v(" "),e("el-table-column",{attrs:{property:"name",label:"名称",width:"160"}}),t._v(" "),e("el-table-column",{attrs:{property:"com_index",label:"综合指数"}})],1),t._v(" "),e("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[e("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":t.pagesize,layout:"total, prev, pager, next",total:t.totalCount},on:{"current-change":t.handleCurrentChange}})],1)],1)])])},staticRenderFns:[]}},843:function(t,a,e){function n(t){e(970)}var i=e(1)(e(885),e(1036),n,"data-v-2562df86",null);t.exports=i.exports},885:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e(6),i=e(7);a.default={name:"township",data:function(){return{activeNamexz:"first3",tableData:[],HistoryData:[],allData:[],type:"固安",currentRow:null,pagesize:10,currentPage:1,totalCount:0}},created:function(){},mounted:function(){var t=this;i.a.GetTownListDataRe("固安").then(function(a){var e=a.data.Data;t.InitializationDataMethod(e)})},methods:{compare:function(t){return function(a,e){var n=a[t];return e[t]-n}},InitializationDataMethod:function(t){this.HistoryData=t;var a=t;this.SetDataList(a),this.totalCount=this.allData.length,this.setPageTable(10,1)},refreshTable:function(t){this.type=t,this.SetDataList(this.data,t),this.totalCount=this.allData.length,this.setPageTable(10,1)},handleClick:function(t,a){var e=this;this.type=t.label,"全市"==this.type?i.a.GetTownListDataRe("").then(function(t){var a=t.data.Data;e.InitializationDataMethod(a)}):i.a.GetTownListDataRe(this.type).then(function(t){var a=t.data.Data;e.InitializationDataMethod(a),"固安"==e.type&&n.a.$emit("loadCumulative",a,"layer_cx","pm25","name")})},SetDataList:function(t){var a=this;this.data=t.sort(this.compare("com_index")),this.allData=[];var e=1;this.data.forEach(function(t){var n={};n.ranking=e++,n.gridname=t.gridname?t.gridname:"----",n.name=t.name,n.com_index=t.com_index,n.id=t.deviceid,n.latitude=t.latitude,n.longitude=t.longitude,a.allData.push(n)})},RowCurrentChange:function(t){this.currentRow=t},handleCurrentChange:function(t){this.setPageTable(10,t)},setPageTable:function(t,a){console.log(t),console.log(a);for(var e=[],n=t*(a-1),i=0;i<t&&!(n+i+1>this.allData.length);i++)e.push(this.allData[n+i]);this.tableData=e},switchRender:function(t){this.type=t},getPointByType:function(t){var a=[],e=this.data;if(e)for(var n=0,i=e.length;n<i;n++){var l=e[n];l.type===t&&a.push(e[n])}return a}},components:{}}},929:function(t,a,e){a=t.exports=e(832)(!1),a.push([t.i,".township[data-v-2562df86]{width:430px;height:auto}.township .main .first[data-v-2562df86]{width:100%;height:56px}.township .main .table_container[data-v-2562df86]{margin-left:5px}",""])},970:function(t,a,e){var n=e(929);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e(833)("14305a92",n,!0,{})}});